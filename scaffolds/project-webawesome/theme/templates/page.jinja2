{% extends 'master.jinja2' %}

{% block main %}

<article class="page-content wa-stack wa-gap-xl">

    {# Page Header #}
    <header class="page-header wa-stack wa-gap-s">
        <h1>{{ index.title }}</h1>
        {% if index.front.get('Description') %}
        <p class="page-description">{{ index.front['Description'] }}</p>
        {% endif %}
    </header>

    {# Main Content #}
    <div class="page-body">
        {{ index.content_html|safe }}
    </div>

</article>

{# Render leaves as cards - full width section #}
{% if index.leaves %}
<section class="cards-section">
    <div class="cards-container wa-grid wa-gap-l" style="--min-column-size: 300px;">
        {% for item in index.leaves %}
        <wa-card appearance="outlined" class="content-card">
            {% if item.front.get('Image') %}
            <img slot="media" src="{{ item.front['Image'] }}" alt="{{ item.title }}" />
            {% endif %}
            <div slot="header">
                {% if item.front.get('Icon') %}
                <wa-icon name="{{ item.front['Icon'] }}" class="card-icon"></wa-icon>
                {% endif %}
                <h3>{{ item.title }}</h3>
            </div>
            {{ item.content_html|safe }}
        </wa-card>
        {% endfor %}
    </div>
</section>
{% endif %}

{% endblock %}
